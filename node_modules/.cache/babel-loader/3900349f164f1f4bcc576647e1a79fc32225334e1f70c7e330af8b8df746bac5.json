{"ast":null,"code":"const initalState={id_user:'',listCart:[]};const ReducerCart=function(){let state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initalState;let action=arguments.length>1?arguments[1]:undefined;switch(action.type){//Nhận dữ liệu id_user và thay đổi state\ncase'ADD_USER':console.log('id_user: ',action.data);state={id_user:action.data,listCart:state.listCart};return state;case'ADD_CART':console.log(action.data);//Lấy dữ liệu được truyền tới\nconst data_add_cart=action.data;//Lấy dữ liệu có sẵn trong state\nconst add_cart=state.listCart;if(add_cart.length<1){add_cart.push(data_add_cart);}else{//Tìm Vị Trí của sản phẩm đã mua\nconst indexCart=add_cart.findIndex(value=>{return value.idProduct===data_add_cart.idProduct;});//Tìm xem thử sản phẩm này đã mua hay chưa\nconst findCart=add_cart.find(value=>{return value.idProduct===data_add_cart.idProduct;});//Nếu này chưa được mua thì mình push vào\n//Còn đã từng mua rồi thì mình update tại vị trí indexCart mà mình vừa tìm được\nif(!findCart){add_cart.push(data_add_cart);console.log('Push');}else{add_cart[indexCart].count=parseInt(add_cart[indexCart].count)+parseInt(data_add_cart.count);console.log('Update');}}state={id_user:state.id_user,listCart:add_cart};console.log(state);return state;case'DELETE_CART'://Lấy dữ liệu được truyền tới\nconst data_delete_cart=action.data;//Lấy dữ diệu có sẵn trong state\nconst delete_cart=state.listCart;//Tìm kiểm vị trí mà cần xóa\nconst indexDelete=delete_cart.findIndex(value=>{return value.idProduct===data_delete_cart.idProduct;});//Xóa theo vị trí\ndelete_cart.splice(indexDelete,1);state={id_user:state.id_user,listCart:delete_cart};return state;case'DELETE_ALL_CART':const data_delete_all_cart=action.data;state={id_user:state.id_user,listCart:data_delete_all_cart};return state;case'UPDATE_CART':const data_update_cart=action.data;const update_cart=state.listCart;const index=update_cart.findIndex(value=>{return value.idProduct===data_update_cart.idProduct;});update_cart[index].count=data_update_cart.count;state={id_user:state.id_user,listCart:update_cart};return state;default:return state;}};export default ReducerCart;","map":{"version":3,"names":["initalState","id_user","listCart","ReducerCart","state","arguments","length","undefined","action","type","console","log","data","data_add_cart","add_cart","push","indexCart","findIndex","value","idProduct","findCart","find","count","parseInt","data_delete_cart","delete_cart","indexDelete","splice","data_delete_all_cart","data_update_cart","update_cart","index"],"sources":["E:/web/NJS301x_1.0/assignment/asm-njs-03/client/src/Redux/Reducer/ReducerCart.jsx"],"sourcesContent":["const initalState = {\n\tid_user: '',\n\tlistCart: [],\n};\n\nconst ReducerCart = (state = initalState, action) => {\n\tswitch (action.type) {\n\t\t//Nhận dữ liệu id_user và thay đổi state\n\t\tcase 'ADD_USER':\n\t\t\tconsole.log('id_user: ', action.data);\n\n\t\t\tstate = {\n\t\t\t\tid_user: action.data,\n\t\t\t\tlistCart: state.listCart,\n\t\t\t};\n\n\t\t\treturn state;\n\n\t\tcase 'ADD_CART':\n\t\t\tconsole.log(action.data);\n\n\t\t\t//Lấy dữ liệu được truyền tới\n\t\t\tconst data_add_cart = action.data;\n\n\t\t\t//Lấy dữ liệu có sẵn trong state\n\t\t\tconst add_cart = state.listCart;\n\n\t\t\tif (add_cart.length < 1) {\n\t\t\t\tadd_cart.push(data_add_cart);\n\t\t\t} else {\n\t\t\t\t//Tìm Vị Trí của sản phẩm đã mua\n\t\t\t\tconst indexCart = add_cart.findIndex((value) => {\n\t\t\t\t\treturn value.idProduct === data_add_cart.idProduct;\n\t\t\t\t});\n\n\t\t\t\t//Tìm xem thử sản phẩm này đã mua hay chưa\n\t\t\t\tconst findCart = add_cart.find((value) => {\n\t\t\t\t\treturn value.idProduct === data_add_cart.idProduct;\n\t\t\t\t});\n\n\t\t\t\t//Nếu này chưa được mua thì mình push vào\n\t\t\t\t//Còn đã từng mua rồi thì mình update tại vị trí indexCart mà mình vừa tìm được\n\t\t\t\tif (!findCart) {\n\t\t\t\t\tadd_cart.push(data_add_cart);\n\t\t\t\t\tconsole.log('Push');\n\t\t\t\t} else {\n\t\t\t\t\tadd_cart[indexCart].count =\n\t\t\t\t\t\tparseInt(add_cart[indexCart].count) +\n\t\t\t\t\t\tparseInt(data_add_cart.count);\n\t\t\t\t\tconsole.log('Update');\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tstate = {\n\t\t\t\tid_user: state.id_user,\n\t\t\t\tlistCart: add_cart,\n\t\t\t};\n\n\t\t\tconsole.log(state);\n\n\t\t\treturn state;\n\n\t\tcase 'DELETE_CART':\n\t\t\t//Lấy dữ liệu được truyền tới\n\t\t\tconst data_delete_cart = action.data;\n\n\t\t\t//Lấy dữ diệu có sẵn trong state\n\t\t\tconst delete_cart = state.listCart;\n\n\t\t\t//Tìm kiểm vị trí mà cần xóa\n\t\t\tconst indexDelete = delete_cart.findIndex((value) => {\n\t\t\t\treturn value.idProduct === data_delete_cart.idProduct;\n\t\t\t});\n\n\t\t\t//Xóa theo vị trí\n\t\t\tdelete_cart.splice(indexDelete, 1);\n\n\t\t\tstate = {\n\t\t\t\tid_user: state.id_user,\n\t\t\t\tlistCart: delete_cart,\n\t\t\t};\n\n\t\t\treturn state;\n\n\t\tcase 'DELETE_ALL_CART':\n\t\t\tconst data_delete_all_cart = action.data;\n\n\t\t\tstate = {\n\t\t\t\tid_user: state.id_user,\n\t\t\t\tlistCart: data_delete_all_cart,\n\t\t\t};\n\n\t\t\treturn state;\n\n\t\tcase 'UPDATE_CART':\n\t\t\tconst data_update_cart = action.data;\n\n\t\t\tconst update_cart = state.listCart;\n\n\t\t\tconst index = update_cart.findIndex((value) => {\n\t\t\t\treturn value.idProduct === data_update_cart.idProduct;\n\t\t\t});\n\n\t\t\tupdate_cart[index].count = data_update_cart.count;\n\n\t\t\tstate = {\n\t\t\t\tid_user: state.id_user,\n\t\t\t\tlistCart: update_cart,\n\t\t\t};\n\n\t\t\treturn state;\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n\nexport default ReducerCart;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}