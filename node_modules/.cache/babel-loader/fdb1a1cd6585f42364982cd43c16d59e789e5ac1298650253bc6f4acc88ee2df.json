{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import{addUser}from\"../../Redux/Action/ActionCart\";import{addSession}from\"../../Redux/Action/ActionSession\";import{Link}from\"react-router-dom\";import LoginLink from\"../../Authentication/LoginLink\";import LogoutLink from\"../../Authentication/LogoutLink\";import Name from\"../../Authentication/Name\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Header(props){const[active,setActive]=useState(\"Home\");const dispatch=useDispatch();//Sau khi F5 nó sẽ kiểm tra nếu phiên làm việc của Session vẫn còn thì nó sẽ tiếp tục\n// đưa dữ liệu vào Redux\nif(localStorage.getItem(\"user\")){const action=addSession(JSON.parse(localStorage.getItem(\"user\"))._id);dispatch(action);}else{//Đưa idTemp vào Redux temp để tạm lưu trữ\nlocalStorage.setItem(\"id_temp\",\"abc999\");const action=addUser(localStorage.getItem(\"id_temp\"));dispatch(action);}//Get IdUser từ redux khi user đã đăng nhập\nvar idUser=useSelector(state=>state.Session.idUser);//Get idtemp từ redux khi user chưa đăng nhập\nvar idTemp=useSelector(state=>state.Cart.id_user);console.log(idUser);console.log(idTemp);const[loginUser,setLoginUser]=useState(false);const[nameUser,setNameUser]=useState(false);useEffect(()=>{if(!idUser){setLoginUser(false);setNameUser(false);}else{setLoginUser(true);setNameUser(true);}},[idUser]);const handlerActive=value=>{setActive(value);console.log(value);};return/*#__PURE__*/_jsx(\"div\",{className:\"container px-0 px-lg-3\",children:/*#__PURE__*/_jsxs(\"nav\",{className:\"navbar navbar-expand-lg navbar-light py-3 px-lg-0\",children:[/*#__PURE__*/_jsx(Link,{className:\"navbar-brand\",to:`/`,children:/*#__PURE__*/_jsx(\"span\",{className:\"font-weight-bold text-uppercase text-dark\",children:\"Boutique\"})}),/*#__PURE__*/_jsx(\"button\",{className:\"navbar-toggler\",type:\"button\",\"data-toggle\":\"collapse\",\"data-target\":\"#navbarNavAltMarkup\",\"aria-controls\":\"navbarNavAltMarkup\",\"aria-expanded\":\"false\",\"aria-label\":\"Toggle navigation\",children:/*#__PURE__*/_jsx(\"span\",{className:\"navbar-toggler-icon\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"collapse navbar-collapse\",id:\"navbarNavAltMarkup\",children:[/*#__PURE__*/_jsxs(\"ul\",{className:\"navbar-nav mr-auto\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",onClick:()=>handlerActive(\"Home\"),children:/*#__PURE__*/_jsx(Link,{className:\"nav-link\",to:`/`,style:active===\"Home\"?{color:\"#dcb14a\"}:{color:\"black\"},children:\"Home\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",onClick:()=>handlerActive(\"Shop\"),children:/*#__PURE__*/_jsx(Link,{className:\"nav-link\",to:`/shop`,style:active===\"Shop\"?{color:\"#dcb14a\"}:{color:\"black\"},children:\"Shop\"})})]}),/*#__PURE__*/_jsxs(\"ul\",{className:\"navbar-nav ml-auto\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsxs(Link,{className:\"nav-link\",to:`/cart`,children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-dolly-flatbed mr-1 text-gray\"}),\"Cart\"]})}),nameUser?/*#__PURE__*/_jsx(Name,{}):\"\",loginUser?/*#__PURE__*/_jsx(LoginLink,{}):/*#__PURE__*/_jsx(LogoutLink,{})]})]})]})});}export default Header;","map":{"version":3,"names":["React","useEffect","useState","useDispatch","useSelector","addUser","addSession","Link","LoginLink","LogoutLink","Name","jsx","_jsx","jsxs","_jsxs","Header","props","active","setActive","dispatch","localStorage","getItem","action","JSON","parse","_id","setItem","idUser","state","Session","idTemp","Cart","id_user","console","log","loginUser","setLoginUser","nameUser","setNameUser","handlerActive","value","className","children","to","type","id","onClick","style","color"],"sources":["E:/web/NJS301x_1.0/assignment/asm-njs-03/client/src/Share/Header/Header.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { addUser } from \"../../Redux/Action/ActionCart\";\nimport { addSession } from \"../../Redux/Action/ActionSession\";\n\nimport { Link } from \"react-router-dom\";\nimport LoginLink from \"../../Authentication/LoginLink\";\nimport LogoutLink from \"../../Authentication/LogoutLink\";\nimport Name from \"../../Authentication/Name\";\n\nfunction Header(props) {\n   const [active, setActive] = useState(\"Home\");\n\n   const dispatch = useDispatch();\n\n   //Sau khi F5 nó sẽ kiểm tra nếu phiên làm việc của Session vẫn còn thì nó sẽ tiếp tục\n   // đưa dữ liệu vào Redux\n   if (localStorage.getItem(\"user\")) {\n      const action = addSession(\n         JSON.parse(localStorage.getItem(\"user\"))._id\n      );\n      dispatch(action);\n   } else {\n      //Đưa idTemp vào Redux temp để tạm lưu trữ\n      localStorage.setItem(\"id_temp\", \"abc999\");\n      const action = addUser(localStorage.getItem(\"id_temp\"));\n      dispatch(action);\n   }\n\n   //Get IdUser từ redux khi user đã đăng nhập\n   var idUser = useSelector((state) => state.Session.idUser);\n\n   //Get idtemp từ redux khi user chưa đăng nhập\n   var idTemp = useSelector((state) => state.Cart.id_user);\n\n   console.log(idUser);\n\n   console.log(idTemp);\n\n   const [loginUser, setLoginUser] = useState(false);\n   const [nameUser, setNameUser] = useState(false);\n\n   useEffect(() => {\n      if (!idUser) {\n         setLoginUser(false);\n         setNameUser(false);\n      } else {\n         setLoginUser(true);\n         setNameUser(true);\n      }\n   }, [idUser]);\n\n   const handlerActive = (value) => {\n      setActive(value);\n      console.log(value);\n   };\n\n   return (\n      <div className='container px-0 px-lg-3'>\n         <nav className='navbar navbar-expand-lg navbar-light py-3 px-lg-0'>\n            <Link className='navbar-brand' to={`/`}>\n               <span className='font-weight-bold text-uppercase text-dark'>\n                  Boutique\n               </span>\n            </Link>\n            <button\n               className='navbar-toggler'\n               type='button'\n               data-toggle='collapse'\n               data-target='#navbarNavAltMarkup'\n               aria-controls='navbarNavAltMarkup'\n               aria-expanded='false'\n               aria-label='Toggle navigation'\n            >\n               <span className='navbar-toggler-icon'></span>\n            </button>\n            <div\n               className='collapse navbar-collapse'\n               id='navbarNavAltMarkup'\n            >\n               <ul className='navbar-nav mr-auto'>\n                  <li\n                     className='nav-item'\n                     onClick={() => handlerActive(\"Home\")}\n                  >\n                     <Link\n                        className='nav-link'\n                        to={`/`}\n                        style={\n                           active === \"Home\"\n                              ? { color: \"#dcb14a\" }\n                              : { color: \"black\" }\n                        }\n                     >\n                        Home\n                     </Link>\n                  </li>\n                  <li\n                     className='nav-item'\n                     onClick={() => handlerActive(\"Shop\")}\n                  >\n                     <Link\n                        className='nav-link'\n                        to={`/shop`}\n                        style={\n                           active === \"Shop\"\n                              ? { color: \"#dcb14a\" }\n                              : { color: \"black\" }\n                        }\n                     >\n                        Shop\n                     </Link>\n                  </li>\n               </ul>\n               <ul className='navbar-nav ml-auto'>\n                  <li className='nav-item'>\n                     <Link className='nav-link' to={`/cart`}>\n                        <i className='fas fa-dolly-flatbed mr-1 text-gray'></i>\n                        Cart\n                     </Link>\n                  </li>\n                  {nameUser ? <Name /> : \"\"}\n                  {loginUser ? <LoginLink /> : <LogoutLink />}\n               </ul>\n            </div>\n         </nav>\n      </div>\n   );\n}\n\nexport default Header;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,WAAW,CAAEC,WAAW,KAAQ,aAAa,CACtD,OAASC,OAAO,KAAQ,+BAA+B,CACvD,OAASC,UAAU,KAAQ,kCAAkC,CAE7D,OAASC,IAAI,KAAQ,kBAAkB,CACvC,MAAO,CAAAC,SAAS,KAAM,gCAAgC,CACtD,MAAO,CAAAC,UAAU,KAAM,iCAAiC,CACxD,MAAO,CAAAC,IAAI,KAAM,2BAA2B,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE7C,QAAS,CAAAC,MAAMA,CAACC,KAAK,CAAE,CACpB,KAAM,CAACC,MAAM,CAAEC,SAAS,CAAC,CAAGhB,QAAQ,CAAC,MAAM,CAAC,CAE5C,KAAM,CAAAiB,QAAQ,CAAGhB,WAAW,CAAC,CAAC,CAE9B;AACA;AACA,GAAIiB,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAE,CAC/B,KAAM,CAAAC,MAAM,CAAGhB,UAAU,CACtBiB,IAAI,CAACC,KAAK,CAACJ,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC,CAACI,GAC5C,CAAC,CACDN,QAAQ,CAACG,MAAM,CAAC,CACnB,CAAC,IAAM,CACJ;AACAF,YAAY,CAACM,OAAO,CAAC,SAAS,CAAE,QAAQ,CAAC,CACzC,KAAM,CAAAJ,MAAM,CAAGjB,OAAO,CAACe,YAAY,CAACC,OAAO,CAAC,SAAS,CAAC,CAAC,CACvDF,QAAQ,CAACG,MAAM,CAAC,CACnB,CAEA;AACA,GAAI,CAAAK,MAAM,CAAGvB,WAAW,CAAEwB,KAAK,EAAKA,KAAK,CAACC,OAAO,CAACF,MAAM,CAAC,CAEzD;AACA,GAAI,CAAAG,MAAM,CAAG1B,WAAW,CAAEwB,KAAK,EAAKA,KAAK,CAACG,IAAI,CAACC,OAAO,CAAC,CAEvDC,OAAO,CAACC,GAAG,CAACP,MAAM,CAAC,CAEnBM,OAAO,CAACC,GAAG,CAACJ,MAAM,CAAC,CAEnB,KAAM,CAACK,SAAS,CAAEC,YAAY,CAAC,CAAGlC,QAAQ,CAAC,KAAK,CAAC,CACjD,KAAM,CAACmC,QAAQ,CAAEC,WAAW,CAAC,CAAGpC,QAAQ,CAAC,KAAK,CAAC,CAE/CD,SAAS,CAAC,IAAM,CACb,GAAI,CAAC0B,MAAM,CAAE,CACVS,YAAY,CAAC,KAAK,CAAC,CACnBE,WAAW,CAAC,KAAK,CAAC,CACrB,CAAC,IAAM,CACJF,YAAY,CAAC,IAAI,CAAC,CAClBE,WAAW,CAAC,IAAI,CAAC,CACpB,CACH,CAAC,CAAE,CAACX,MAAM,CAAC,CAAC,CAEZ,KAAM,CAAAY,aAAa,CAAIC,KAAK,EAAK,CAC9BtB,SAAS,CAACsB,KAAK,CAAC,CAChBP,OAAO,CAACC,GAAG,CAACM,KAAK,CAAC,CACrB,CAAC,CAED,mBACG5B,IAAA,QAAK6B,SAAS,CAAC,wBAAwB,CAAAC,QAAA,cACpC5B,KAAA,QAAK2B,SAAS,CAAC,mDAAmD,CAAAC,QAAA,eAC/D9B,IAAA,CAACL,IAAI,EAACkC,SAAS,CAAC,cAAc,CAACE,EAAE,CAAE,GAAI,CAAAD,QAAA,cACpC9B,IAAA,SAAM6B,SAAS,CAAC,2CAA2C,CAAAC,QAAA,CAAC,UAE5D,CAAM,CAAC,CACJ,CAAC,cACP9B,IAAA,WACG6B,SAAS,CAAC,gBAAgB,CAC1BG,IAAI,CAAC,QAAQ,CACb,cAAY,UAAU,CACtB,cAAY,qBAAqB,CACjC,gBAAc,oBAAoB,CAClC,gBAAc,OAAO,CACrB,aAAW,mBAAmB,CAAAF,QAAA,cAE9B9B,IAAA,SAAM6B,SAAS,CAAC,qBAAqB,CAAO,CAAC,CACxC,CAAC,cACT3B,KAAA,QACG2B,SAAS,CAAC,0BAA0B,CACpCI,EAAE,CAAC,oBAAoB,CAAAH,QAAA,eAEvB5B,KAAA,OAAI2B,SAAS,CAAC,oBAAoB,CAAAC,QAAA,eAC/B9B,IAAA,OACG6B,SAAS,CAAC,UAAU,CACpBK,OAAO,CAAEA,CAAA,GAAMP,aAAa,CAAC,MAAM,CAAE,CAAAG,QAAA,cAErC9B,IAAA,CAACL,IAAI,EACFkC,SAAS,CAAC,UAAU,CACpBE,EAAE,CAAE,GAAI,CACRI,KAAK,CACF9B,MAAM,GAAK,MAAM,CACZ,CAAE+B,KAAK,CAAE,SAAU,CAAC,CACpB,CAAEA,KAAK,CAAE,OAAQ,CACxB,CAAAN,QAAA,CACH,MAED,CAAM,CAAC,CACN,CAAC,cACL9B,IAAA,OACG6B,SAAS,CAAC,UAAU,CACpBK,OAAO,CAAEA,CAAA,GAAMP,aAAa,CAAC,MAAM,CAAE,CAAAG,QAAA,cAErC9B,IAAA,CAACL,IAAI,EACFkC,SAAS,CAAC,UAAU,CACpBE,EAAE,CAAE,OAAQ,CACZI,KAAK,CACF9B,MAAM,GAAK,MAAM,CACZ,CAAE+B,KAAK,CAAE,SAAU,CAAC,CACpB,CAAEA,KAAK,CAAE,OAAQ,CACxB,CAAAN,QAAA,CACH,MAED,CAAM,CAAC,CACN,CAAC,EACJ,CAAC,cACL5B,KAAA,OAAI2B,SAAS,CAAC,oBAAoB,CAAAC,QAAA,eAC/B9B,IAAA,OAAI6B,SAAS,CAAC,UAAU,CAAAC,QAAA,cACrB5B,KAAA,CAACP,IAAI,EAACkC,SAAS,CAAC,UAAU,CAACE,EAAE,CAAE,OAAQ,CAAAD,QAAA,eACpC9B,IAAA,MAAG6B,SAAS,CAAC,qCAAqC,CAAI,CAAC,OAE1D,EAAM,CAAC,CACN,CAAC,CACJJ,QAAQ,cAAGzB,IAAA,CAACF,IAAI,GAAE,CAAC,CAAG,EAAE,CACxByB,SAAS,cAAGvB,IAAA,CAACJ,SAAS,GAAE,CAAC,cAAGI,IAAA,CAACH,UAAU,GAAE,CAAC,EAC1C,CAAC,EACH,CAAC,EACJ,CAAC,CACJ,CAAC,CAEZ,CAEA,cAAe,CAAAM,MAAM","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}